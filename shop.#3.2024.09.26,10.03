#include <stdio.h>

int main(void) {
    int in[6] = {0}, sold[6] = {0}, remain[6] = {0};
    char name[6][50];
    int i;

    for (i = 1; i <= 5; i++)
        name[i][0] = '\0';

    while (1) {
        int menu;
        printf("\n[쇼핑몰 관리 프로그램]\n");
        printf("원하는 메뉴를 선택하세요.(1. 입고, 2. 판매, 3. 상품현황, 4. 상품명 입력, 5. 종료)\n> ");
        scanf("%d", &menu);

        if (menu == 5)
            break;

        if (menu == 1) {
            int sub, qty, id;
            printf("입고수량 입력 : 전체 상품 입고수량 입력 1, 개별 상품 입력 2를 선택\n> ");
            scanf("%d", &sub);

            if (sub == 1) {
                for (i = 1; i <= 5; i++) {
                    scanf("%d", &qty);
                    in[i] += qty;
                    remain[i] = in[i] - sold[i];
                }
            } else if (sub == 2) {
                printf("상품ID : ");
                scanf("%d", &id);
                printf("입고수량 : ");
                scanf("%d", &qty);
                in[id] += qty;
                remain[id] = in[id] - sold[id];
            }
        } else if (menu == 2) {
            int sub, qty, id;
            printf("판매수량 입력 : 전체 상품 판매수량 입력 1, 개별 상품 입력 2를 선택\n> ");
            scanf("%d", &sub);

            if (sub == 1) {
                for (i = 1; i <= 5; i++) {
                    scanf("%d", &qty);
                    sold[i] += qty;
                    remain[i] = in[i] - sold[i];
                }
            } else if (sub == 2) {
                printf("상품ID : ");
                scanf("%d", &id);
                printf("판매수량 : ");
                scanf("%d", &qty);
                sold[id] += qty;
                remain[id] = in[id] - sold[id];
            }
        } else if (menu == 4) {
            for (i = 1; i <= 5; i++) {
                printf("ID %d 상품명 : ", i);
                scanf("%s", name[i]);
            }
        } else if (menu == 3) {
            int totalSold = 0, totalIn = 0;
            int maxID = 1, minID = 1;
            double percent = 0.0;

            for (i = 1; i <= 5; i++)
                remain[i] = in[i] - sold[i];

            for (i = 1; i <= 5; i++) {
                totalSold += sold[i];
                totalIn += in[i];
            }

            if (totalIn > 0)
                percent = (double)totalSold / (double)totalIn * 100.0;

            for (i = 2; i <= 5; i++) {
                if (sold[i] > sold[maxID])
                    maxID = i;
                if (sold[i] < sold[minID])
                    minID = i;
            }

            printf("재고수량 : ");
            for (i = 1; i <= 5; i++) {
                printf("%d", remain[i]);
                if (i < 5) printf(" ");
            }
            printf("\n");

            printf("총 판매량 : %d (판매율 %.2f%%)\n", totalSold, percent);
            printf("가장 많이 판매된 상품 : ID %d, 상품명 : %s, 판매량 %d\n",
                   maxID, name[maxID], sold[maxID]);
            printf("가장 적게 판매된 상품 : ID %d, 상품명 : %s, 판매량 %d\n",
                   minID, name[minID], sold[minID]);

            for (i = 1; i <= 5; i++) {
                if (remain[i] == 2) {
                    printf("상품 ID %d : %s 재고부족(2)\n", i, name[i]);
                } else if (remain[i] <= 1) {
                    printf("상품 ID %d : %s 재고부족(%d)\n", i, name[i], remain[i]);
                }
            }
        }
    }

    return 0;
}
